"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[363],{2363:function(e,t,n){n.r(t),n.d(t,{BoundingBoxMap:function(){return a}});var o=n(7437),l=n(2265),r=n(1535);function a(e){let{boundingBox:t,markers:n=[]}=e,a=(0,l.useRef)(null),[s,i]=(0,l.useState)(null),u=(0,l.useRef)(null),[c,p]=(0,l.useState)([]);return(0,l.useEffect)(()=>{let e=!0;return(async()=>{try{if(await (0,r.M4)(),!e||!a.current||!window.google)return;let n=window.google,o=new n.maps.LatLngBounds({lat:t.south,lng:t.west},{lat:t.north,lng:t.east}),l=new n.maps.Map(a.current,{center:o.getCenter(),zoom:10,mapTypeId:"hybrid",mapTypeControl:!0,streetViewControl:!1,fullscreenControl:!0});l.fitBounds(o),u.current&&u.current.setMap(null),u.current=new n.maps.Rectangle({map:l,bounds:o,editable:!1,strokeColor:"#0c4160",strokeOpacity:.8,strokeWeight:2,fillColor:"#0c4160",fillOpacity:.1}),i(l)}catch(e){console.error("Error initializing map:",e)}})(),()=>{e=!1,u.current&&window.google&&u.current.setMap(null),c.forEach(e=>{e&&"function"==typeof e.setMap&&e.setMap(null)})}},[t]),(0,l.useEffect)(()=>{if(s&&t&&u.current&&window.google){let e=new window.google.maps.LatLngBounds({lat:t.south,lng:t.west},{lat:t.north,lng:t.east});u.current.setBounds(e),s.fitBounds(e)}},[s,t]),(0,l.useEffect)(()=>{if(s&&n.length>0&&window.google){let e=window.google;c.forEach(e=>{e&&"function"==typeof e.setMap&&e.setMap(null)}),p(n.map(t=>{let n={path:e.maps.SymbolPath.CIRCLE,fillColor:"#0c4160",fillOpacity:.9,strokeWeight:2,strokeColor:"white",scale:10},o=new e.maps.Marker({position:{lat:t.lat,lng:t.lng},map:s,title:t.title,icon:n}),l=new e.maps.InfoWindow({content:'<div style="padding: 8px;"><strong>'.concat(t.title,"</strong></div>")});return o.addListener("click",()=>{l.open(s,o)}),o}))}},[s,n]),(0,o.jsx)("div",{ref:a,className:"h-full w-full"})}t.default=a}}]);