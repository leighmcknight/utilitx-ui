"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[337],{3337:function(e,t,l){l.r(t),l.d(t,{MapView:function(){return r}});var n=l(7437),o=l(2265),a=l(6070),i=l(1535);function r(e){let{boundingBox:t,markers:l=[]}=e,r=(0,o.useRef)(null),[s,c]=(0,o.useState)(null),[p,u]=(0,o.useState)([]);return(0,o.useEffect)(()=>{let e=!0;return(async()=>{try{if(await (0,i.M4)(),!e||!r.current||!window.google)return;let t=new window.google.maps.Map(r.current,{center:{lat:43.9,lng:-79},zoom:10,mapTypeId:"hybrid",mapTypeControl:!0,streetViewControl:!1,fullscreenControl:!0});c(t)}catch(e){console.error("Error initializing map:",e)}})(),()=>{e=!1,p.forEach(e=>{e&&"function"==typeof e.setMap&&e.setMap(null)})}},[]),(0,o.useEffect)(()=>{if(s&&t&&window.google){let e=window.google,l=new e.maps.LatLngBounds({lat:t.south,lng:t.west},{lat:t.north,lng:t.east});s.fitBounds(l),new e.maps.Rectangle({map:s,bounds:l,editable:!1,strokeColor:"#0c4160",strokeOpacity:.8,strokeWeight:2,fillColor:"#0c4160",fillOpacity:.1})}},[s,t]),(0,o.useEffect)(()=>{if(s&&l.length>0&&window.google){let e=window.google;p.forEach(e=>{e&&"function"==typeof e.setMap&&e.setMap(null)}),u(l.map(t=>{let l={path:e.maps.SymbolPath.CIRCLE,fillColor:"#0c4160",fillOpacity:.9,strokeWeight:2,strokeColor:"white",scale:10},n=new e.maps.Marker({position:{lat:t.lat,lng:t.lng},map:s,title:t.title,icon:l}),o=new e.maps.InfoWindow({content:'<div style="padding: 8px;"><strong>'.concat(t.title,"</strong></div>")});return n.addListener("click",()=>{o.open(s,n)}),n}))}},[s,l]),(0,n.jsx)(a.Zb,{className:"mt-8",children:(0,n.jsx)(a.aY,{className:"p-0",children:(0,n.jsx)("div",{ref:r,className:"h-[500px] w-full"})})})}t.default=r}}]);